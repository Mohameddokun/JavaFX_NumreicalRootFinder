<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.2"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.numerical.rootfinder.controller.RootFinderController"
      spacing="20"
      style="-fx-background-color: #f8f9fa;"
      stylesheets="@styles.css">

    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

    <!-- Header -->
    <VBox spacing="10" style="-fx-background-color: linear-gradient(to right, #2c3e50, #3498db); -fx-background-radius: 10; -fx-padding: 20;">
        <Text text="Numerical Root Finding Methods"
              style="-fx-fill: white; -fx-font-size: 28; -fx-font-weight: bold;"/>
        <Text text="Find roots of equations using various numerical methods"
              style="-fx-fill: rgba(255,255,255,0.9); -fx-font-size: 14;"/>
    </VBox>

    <!-- Main Content -->
    <HBox spacing="20">
        <!-- Input Section -->
        <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
              prefWidth="400">

            <VBox spacing="10">
                <Label text="Equation f(x) = 0" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TextField fx:id="equationField" promptText="e.g., x^3 - 2*x - 5"/>
                <Text text="Use math syntax: x^2 for x², sin(x), exp(x), etc."
                      style="-fx-font-size: 11; -fx-fill: #666;"/>
            </VBox>

            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="50"/>
                    <ColumnConstraints percentWidth="50"/>
                </columnConstraints>

                <Label text="Tolerance" GridPane.rowIndex="0" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TextField fx:id="toleranceField" text="0.000001" GridPane.rowIndex="1" GridPane.columnIndex="0"/>

                <Label text="Max Iterations" GridPane.rowIndex="0" GridPane.columnIndex="1"
                       style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TextField fx:id="maxIterationsField" text="100" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
            </GridPane>

            <VBox spacing="10">
                <Label text="Method" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <ComboBox fx:id="methodComboBox" prefWidth="200"/>
            </VBox>

            <!-- Method Parameters Container -->
            <VBox fx:id="methodParamsContainer" spacing="10" style="-fx-padding: 10; -fx-background-color: #ecf0f1; -fx-background-radius: 5;"/>

            <Button fx:id="calculateButton" text="Calculate Roots"
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;"/>

            <!-- Method Info Cards -->
            <VBox spacing="10" style="-fx-padding: 10 0 0 0;">
                <Text text="Method Information" style="-fx-font-weight: bold; -fx-font-size: 16; -fx-fill: #2c3e50;"/>

                <VBox style="-fx-background-color: white; -fx-border-color: #3498db; -fx-border-width: 0 0 0 4; -fx-padding: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 2, 2);">
                    <Text text="Bisection Method" style="-fx-font-weight: bold; -fx-fill: #2c3e50;"/>
                    <Text text="Requires interval [a,b] where f(a) and f(b) have opposite signs. Guaranteed to converge but relatively slow."
                          style="-fx-font-size: 12; -fx-fill: #666; -fx-wrap-text: true;"/>
                </VBox>

                <!-- Add other method info cards similarly -->
            </VBox>
        </VBox>

        <!-- Results Section -->
        <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
              HBox.hgrow="ALWAYS">

            <TabPane fx:id="resultsTabPane">
                <Tab fx:id="resultsTab" text="Results" closable="false">
                    <VBox spacing="10">
                        <Text fx:id="resultsSummary" style="-fx-font-weight: bold;"/>
                        <TableView fx:id="resultsTable" VBox.vgrow="ALWAYS"/>
                    </VBox>
                </Tab>

                <Tab fx:id="plotTab" text="Plot" closable="false">
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Text text="Function Plot" style="-fx-font-weight: bold; -fx-font-size: 16;"/>
                        <StackPane fx:id="plotContainer" VBox.vgrow="ALWAYS"
                                   style="-fx-background-color: white; -fx-border-color: #dee2e6; -fx-border-width: 1;"/>
                    </VBox>
                </Tab>

                <Tab fx:id="comparisonTab" text="Comparison" closable="false">
                    <VBox>
                        <TableView fx:id="comparisonTable" VBox.vgrow="ALWAYS"/>
                    </VBox>
                </Tab>
            </TabPane>
        </VBox>
    </HBox>

    <!-- Footer -->
    <Text text="Numerical Root Finding Methods © 2023 | Built with JavaFX"
          style="-fx-text-alignment: center; -fx-fill: #666; -fx-font-size: 12;"/>
</VBox>